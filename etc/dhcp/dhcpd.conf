
ddns-update-style interim;
set vendor-string = option vendor-class-identifier;
option option-150 code 150 = ip-address;
option space ZTP;
option ZTP.image-file-name code 0 = text;
option ZTP.config-file-name code 1 = text;
option ZTP.image-file-type code 2 = text;
option ZTP.transfer-mode code 3 = text;
option ZTP-encapsulation code 43 = encapsulate ZTP;

class "ex3300-48"      {
        match if (
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex3300-48p")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex3300-48t")
        );

}

class "qfx5100-48"      {
        match if (
                (substring (option vendor-class-identifier,0,22) = "Juniper-qfx5100-48s-6q")
        );

}

class "ex2200-xx"      {
        match if (
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2200-24p")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2200-24t")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2200-48p")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2200-48t")
                or
                (substring (option vendor-class-identifier,0,20) = "Juniper-ex2200-c-12p")
                or
                (substring (option vendor-class-identifier,0,20) = "Juniper-ex2200-c-12t")
        );

}

class "ex2300-xx"      {
        match if (
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2300-24p")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2300-24t")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2300-48p")
                or
                (substring (option vendor-class-identifier,0,18) = "Juniper-ex2300-48t")
                or
                (substring (option vendor-class-identifier,0,20) = "Juniper-ex2300-c-12p")
                or
                (substring (option vendor-class-identifier,0,20) = "Juniper-ex2300-c-12t")
        );

}

class "srx320-xx"      {
        match if (
                (substring (option vendor-class-identifier,0,19) = "Juniper-srx320-8xge")
                or
                (substring (option vendor-class-identifier,0,23) = "Juniper-srx320-poe-8xge")
        );

}

class "srx200"      {
        match if (
                (substring (option vendor-class-identifier,0,19) = "Juniper-srx240h")
                or
                (substring (option vendor-class-identifier,0,19) = "Juniper-srx220h")
                or
                (substring (option vendor-class-identifier,0,23) = "Juniper-srx240-poe-16xge")
                or
                (substring (option vendor-class-identifier,0,23) = "Juniper-srx220-poe-8xge")
                or
                (substring (option vendor-class-identifier,0,23) = "Juniper-srx220-8xge")

        );

}


subnet 172.31.123.0 netmask 255.255.255.0 {
        option routers 172.31.123.254;
        option subnet-mask 255.255.255.0;
        default-lease-time 3600;
        option domain-name-servers 208.67.222.222;
        max-lease-time 7200;
        authoritative;
        pool {
                allow members of "qfx5100-48";
                range dynamic-bootp 172.31.123.2 172.31.123.15;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/qfx5100/jinstall-host-qfx-5e-x86-64-18.1R3.3-secure-signed.tgz";
                #option ZTP.config-file-name "pub/qfx5100/default.config";
        }
        pool {
                allow members of "ex3300-48";
                range dynamic-bootp 172.31.123.16 172.31.123.31;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/ex3300/jinstall-ex-3300-12.3R12.4-domestic-signed.tgz";
        }
        pool {
                allow members of "ex2200-xx";
                range dynamic-bootp 172.31.123.32 172.31.123.63;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/ex2200/jinstall-ex-2200-12.3R12-S15-domestic-signed.tgz";
        }
        pool {
                allow members of "ex2300-xx";
                range dynamic-bootp 172.31.123.64 172.31.123.95;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/ex2300/junos-arm-32-20.2R3-S2.5.tgz";
        }
        pool {
                allow members of "srx320-xx";
                range dynamic-bootp 172.31.123.96 172.31.123.127;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/srx320/junos-srxsme-20.2R3-S2.5.tgz";
        }
        pool {
                allow members of "srx200";
                range dynamic-bootp 172.31.123.128 172.31.123.159;
                option ZTP.transfer-mode "ftp";
                option option-150 172.31.123.199;
                option ZTP.image-file-name "pub/srx200/junos-srxsme-12.3X48-D105.4-domestic.tgz";
        }

}


host qfx5100-1 {
        hardware ethernet 4c:96:14:f3:c7:61;
        fixed-address 172.31.123.5;
        option option-150 172.31.123.199;
        option host-name "QFX5100-1";
        option ZTP.image-file-name "pub/jinstall-host-qfx-5-flex-15.1R7.8-domestic-signed.tgz";
        option ZTP.transfer-mode "ftp";
}
